import{f as y,av as d,y as r,I as f,F as v,C as m,O as _,z as g,aw as h,n as D,ae as S,af as C,ax as b,j as B}from"./index.d4beb9d4.js";import{_ as x}from"./Input.217a6f50.js";const R={key:0,class:"w-full flex h-full"},w={key:0,class:"opacity-0"},E={key:1},I=y({__name:"DoubleClickToModifyInput",props:{value:null},emits:["updateValue","update:value"],setup(e,{emit:t}){const o=e,l=d(!0),i=d(null);function n(){l.value=!1,setTimeout(()=>{var a;(a=i.value)==null||a.focus()},10)}return(a,u)=>{const s=x;return r(),f("div",{class:"w-full flex h-full",onDblclick:n},[l.value?(r(),f("div",R,[o.value===""||o.value===void 0?(r(),f("span",w,v(m(_)("empty_text")),1)):(r(),f("span",E,v(o.value),1))])):(r(),g(s,{key:1,ref_key:"inputRef",ref:i,autofocus:"",value:o.value,onUpdateValue:u[0]||(u[0]=c=>{t("update:value",c),t("updateValue",c)}),onBlur:u[1]||(u[1]=()=>l.value=!0)},null,8,["value"]))],32)}}}),p=h("black-data",[]);function U(){return S({push(e){if(p.value.some(t=>t.ignoreContent?e.content.includes(t.ignoreContent):!1))return C.BREAK}})}let V=D(()=>p.value.reduce((e,t)=>t.key>e?t.key:e,0));function K(){function e(t){p.value.push(b(t,{key:Number(V.value)+1,title:"",ignoreContent:""}))}return{blackData:p,addRule:e}}function j(){const{blackData:e,addRule:t}=K(),o=()=>[{type:"selection",options:[{label:"\u53CD\u9009",key:"ReverseSelection",onSelect:n=>{l.value=n.filter(a=>!l.value.includes(a.key)).map(a=>a.key)}},{label:"\u5220\u9664\u9009\u4E2D\u9879",key:"delete",onSelect:n=>{l.value.forEach(a=>{const u=e.value.findIndex(s=>s.key===a);u!==-1&&e.value.splice(u,1)})}}]},...["key","title","ignoreContent"].map(n=>{const a=n;return{title:n,key:n,render(s,c){return B(I,{value:String(s[a]),onClick(){c===e.value.length-1&&t()},onUpdateValue(k){e.value[c][a]=k}})}}})],l=d([]),i=o();return e.value.length===0&&t(),{checkedRowKeys:l,columns:i}}export{j as a,U as c,K as u};
