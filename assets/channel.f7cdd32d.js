import{aa as l,a2 as r,a3 as n,Z as i,a4 as c,a5 as o,ak as S}from"./index.0e420a7a.js";import{g as d,c as h,a as u}from"./getCacheStaff.ce5a8b54.js";import{c as m,a as C,b as M,d as g}from"./createGarbageFilter.9d7b3860.js";import{a as f}from"./autoAddRelayurlByEventIdStaff.8ca2f449.js";import{c as E}from"./user.c6ea6a80.js";import{c as B}from"./ContentBlacklistView.9493daed.js";const p=l()(a=>({initialization(){const e=d.channelMetadataEventMap.get(a);e&&this.beltline.pushEvent(e),this.beltline.feat.onHasLatestEvent(t=>{d.channelMetadataEventMap.set(a,t)})}}));function U(a){return r(`getChannelMetadataBeltlineByChannelId:${a}`,()=>{const e=n({describe:"getChannelMetadataBeltlineByChannelId"}).addFilter({ids:[a],kinds:[40]}).addFilter({kinds:[41],"#e":[a]}).addStaff(i()).addStaff(E()).addStaff(c()).addStaff(o()).addStaff(p(a)).addStaff(h());return e.feat.withEvent()||e.addStaff(f(a)).addReadUrl(),e},{useMemoryCache:!0,useLocalStorage:!1})}function T(a,e){return r(`etChannelMessageBeltline:${a}`,()=>{const t=n({describe:"getChannelMessageBeltline"}).addStaff(m([{kinds:[42],"#e":[a]}])).addStaff(C()).addStaff(u()).addStaff(M()).addStaff(g()).addStaff(B()).addStaffOfSortByCreateAt();return setTimeout(()=>{t.addExtends(t.createChild().addRelayUrls(e==null?void 0:e.urls).onAddRelayUrlsAfter(s=>{t.addRelayUrls(s)}).addFilter({ids:[a],kinds:[40]}).addFilter({kinds:[41],"#e":[a]}).addFilter({kinds:[42],"#e":[a],since:S()}).addStaff(f(a)).addReadUrl()),t.feat.firstLoad()},0),t},{useLocalStorage:!1})}export{T as a,U as g};
