import{g as v}from"./user.c6ea6a80.js";import{a as d}from"./nostr.2e66b318.js";import{f as y,bw as _,n,M as k,y as h,z as w,A as x,aP as B,F as c,C as r}from"./index.0e420a7a.js";const L=y({__name:"UserLink",props:{value:null,withPrefix:{type:Boolean,default:!0}},setup(s){const p=s,{value:t}=_(p),o=n(()=>d(t.value)),f=n(()=>{if(!!o.value)return v(o.value.pubkey,{urls:new Set(o.value.relays)})}),l=n(()=>{var e;return(e=f.value)==null?void 0:e.feat.useMetadata()}),m=n(()=>{var e;if(!l.value)return t.value.slice(0,10);for(const u of["name","display_name","displayName","username"]){const a=l.value[u];if((e=a==null?void 0:a.length)!=null?e:0>0)return a}return t.value.slice(0,10)});return(e,u)=>{const a=k("RouterLink");return h(),w(a,{to:{name:"profile",params:{value:r(t)}}},{default:x(()=>{var i;return[B("span",null,c(s.withPrefix?"@":"")+c((i=r(m))!=null?i:r(t).slice(0,10)),1)]}),_:1},8,["to"])}}});export{L as _};
