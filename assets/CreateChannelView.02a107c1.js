import{f as l,bz as m,av as p,y as _,z as f,A as a,H as o,D as d,F as g,C as h,Y as C,at as v,_ as F,O as w}from"./index.dd8c0757.js";import{g as B}from"./FollowChannel.0c8ae95c.js";import{e as y}from"./use.b9e0cb1d.js";import{_ as M}from"./ChannelMetadataEdit.vue_vue_type_script_setup_true_lang.b309eea7.js";import{_ as O}from"./Space.eeb4a7c6.js";import"./createGarbageFilter.58d83a26.js";import"./autoAddRelayurlByEventIdStaff.2840aa6c.js";import"./getCacheStaff.19f888e0.js";import"./user.73c7c233.js";import"./ContentBlacklistView.52178d89.js";import"./Input.c0cbabec.js";import"./event.44d09d76.js";import"./UploadInput.vue_vue_type_script_setup_true_lang.a876f2f2.js";import"./UploadButton.vue_vue_type_script_setup_true_lang.afb0c12a.js";import"./CloudUpload.7b2b77e1.js";import"./Icon.728af6b3.js";import"./get-slot.4ceacf82.js";const q=l({__name:"CreateChannelView",setup(k){const r=B(),t=m(),s=y(),e=p({});async function i(){if(!e.value.name){t.warning("\u8BF7\u8F93\u5165channelName");return}const n=await C.publish({kind:40,content:JSON.stringify(e.value)},v.getWriteList(),{onOK:s});n?(r.joinChannel(n.id,{channelMetadata:e.value}),t.success("\u521B\u5EFA\u6210\u529F")):t.warning("\u6CA1\u6709\u521B\u5EFA\u6210\u529F")}return(n,x)=>{const u=F,c=O;return _(),f(c,{vertical:""},{default:a(()=>[o(M,{channelMetadata:e.value},null,8,["channelMetadata"]),o(u,{onClick:i},{default:a(()=>[d(g(h(w)("create")),1)]),_:1})]),_:1})}}});export{q as default};
