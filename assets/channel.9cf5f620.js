import{a9 as l,a2 as r,a3 as n,Z as i,a4 as c,aj as o}from"./index.70f8884a.js";import{i as d,c as S,a as h,b as u}from"./getCacheStaff.3d60947c.js";import{c as m,a as C,b as M,d as E}from"./event.271d9567.js";import{a as f}from"./autoAddRelayurlByEventIdStaff.6030713a.js";import{c as g}from"./user.4e76e6df.js";import{c as B}from"./ContentBlacklistView.76efa451.js";const p=l()(a=>({initialization(){const e=d.channelMetadataEventMap.get(a);e&&this.beltline.pushEvent(e),this.beltline.feat.onHasLatestEvent(t=>{d.channelMetadataEventMap.set(a,t)})}}));function k(a){return r(`getChannelMetadataBeltlineByChannelId:${a}`,()=>{const e=n({describe:"getChannelMetadataBeltlineByChannelId"}).addFilter({ids:[a],kinds:[40]}).addFilter({kinds:[41],"#e":[a]}).addStaff(i()).addStaff(g()).addStaff(c()).addStaff(S()).addStaff(p(a)).addStaff(h());return e.feat.withEvent()||e.addStaff(f(a)).addReadUrl(),e},{useMemoryCache:!0,useLocalStorage:!1})}function T(a,e){return r(`etChannelMessageBeltline:${a}`,()=>{const t=n({describe:"getChannelMessageBeltline"}).addStaff(m([{kinds:[42],"#e":[a]}])).addStaff(C()).addStaff(u()).addStaff(M()).addStaff(E()).addStaff(B()).addStaffOfSortByCreateAt();return setTimeout(()=>{t.addExtends(t.createChild().addRelayUrls(e==null?void 0:e.urls).onAddRelayUrlsAfter(s=>{t.addRelayUrls(s)}).addFilter({ids:[a],kinds:[40]}).addFilter({kinds:[41],"#e":[a]}).addFilter({kinds:[42],"#e":[a],since:o()}).addStaff(f(a)).addReadUrl()),t.feat.firstLoad()},0),t},{useLocalStorage:!1})}export{T as a,k as g};
