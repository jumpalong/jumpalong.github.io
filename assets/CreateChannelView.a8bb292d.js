import{f as l,br as m,ap as p,y as _,z as f,A as a,H as o,D as d,F as g,C as h,X as C,a9 as F,_ as v,O as w}from"./index.c6be74f9.js";import{g as B}from"./FollowChannel.73ddcc02.js";import{e as M}from"./use.494564e4.js";import{_ as O}from"./ChannelMetadataEdit.vue_vue_type_script_setup_true_lang.cf961a76.js";import{_ as k}from"./Space.bb2b5dba.js";import"./channel.892d4e65.js";import"./getCacheStaff.f2e5e287.js";import"./event.6fd6bcd7.js";import"./autoAddRelayurlByEventIdStaff.d2232480.js";import"./user.a6f8bcbe.js";import"./ContentBlacklistView.aff4f24d.js";import"./Input.361a3be3.js";import"./UploadButton.vue_vue_type_script_setup_true_lang.c3c27ca9.js";import"./CloudUpload.91e7cc3c.js";import"./Icon.8692983b.js";import"./get-slot.4ceacf82.js";const $=l({__name:"CreateChannelView",setup(x){const r=B(),n=m(),s=M(),e=p({});function i(){if(!e.value.name){n.warning("\u8BF7\u8F93\u5165channelName");return}const t=C.publish({kind:40,content:JSON.stringify(e.value)},F.getWriteList(),{onOK:s});t?(r.joinChannel(t.id,{channelMetadata:e.value}),n.success("\u521B\u5EFA\u6210\u529F")):n.warning("\u6CA1\u6709\u521B\u5EFA\u6210\u529F")}return(t,y)=>{const u=v,c=k;return _(),f(c,{vertical:""},{default:a(()=>[o(O,{channelMetadata:e.value},null,8,["channelMetadata"]),o(u,{onClick:i},{default:a(()=>[d(g(h(w)("create")),1)]),_:1})]),_:1})}}});export{$ as default};
