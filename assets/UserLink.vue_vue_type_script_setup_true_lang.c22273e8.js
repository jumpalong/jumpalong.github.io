import{cW as y,f as p,aN as d,C as r,y as _,z as v,A as u,H as k,cd as $,bv as b,n as c,M as g,aO as B,F as w}from"./index.6304a51f.js";import{c as D}from"./use.cd98c830.js";import{_ as S,a as C}from"./DrawerContent.c7a28493.js";import{g as N}from"./user.8ea1c8c2.js";import{a as P}from"./nostr.65b69e2e.js";const[L,M]=D(()=>({id:`d-${y()}`})),x=p({__name:"DrawerProvide",setup(e){const{id:l}=L();return(t,o)=>d(t.$slots,"default",{id:r(l)})}}),z=p({__name:"Drawer",props:{show:{type:Boolean},width:{default:"100%"},height:{default:100},placement:{default:"bottom"},title:{default:""},closable:{type:Boolean}},emits:["update:show"],setup(e,{emit:l}){var o;const{id:t}=(o=M())!=null?o:{};return(n,i)=>{const f=S,a=C;return _(),v(a,{show:e.show,"onUpdate:show":i[0]||(i[0]=m=>l("update:show",!e.show)),width:e.width,height:e.height,placement:e.placement,"trap-focus":!1,"block-scroll":!1,to:r(t)?`#${r(t)}`:void 0},{default:u(()=>[k(f,{title:e.title,closable:e.closable},$({default:u(()=>[d(n.$slots,"default")]),_:2},[n.$slots.header?{name:"header",fn:u(()=>[d(n.$slots,"header")]),key:"0"}:void 0,n.$slots.footer?{name:"footer",fn:u(()=>[d(n.$slots,"footer")]),key:"1"}:void 0]),1032,["title","closable"])]),_:3},8,["show","width","height","placement","to"])}}}),A=p({__name:"UserLink",props:{value:null,withPrefix:{type:Boolean,default:!0}},setup(e){const l=e,{value:t}=b(l),o=c(()=>P(t.value)),n=c(()=>{if(!!o.value)return N(o.value.pubkey,{urls:new Set(o.value.relays)})}),i=c(()=>{var a;return(a=n.value)==null?void 0:a.feat.useMetadata()}),f=c(()=>{var a;if(!i.value)return t.value.slice(0,10);for(const m of["name","display_name","displayName","username"]){const s=i.value[m];if((a=s==null?void 0:s.length)!=null?a:0>0)return s}return t.value.slice(0,10)});return(a,m)=>{const s=g("RouterLink");return _(),v(s,{to:{name:"profile",params:{value:r(t)}}},{default:u(()=>{var h;return[B("span",null,w(e.withPrefix?"@":"")+w((h=r(f))!=null?h:r(t).slice(0,10)),1)]}),_:1},8,["to"])}}});export{z as _,x as a,A as b};
