import{a9 as l,a2 as r,a3 as n,Z as i,a4 as c,aj as o}from"./index.6c43580b.js";import{i as d,c as S,a as h,b as u}from"./getCacheStaff.f3405a11.js";import{c as m,a as C,b as M,d as E}from"./event.d7f988bf.js";import{a as f}from"./autoAddRelayurlByEventIdStaff.bc6296d1.js";import{c as g}from"./user.54667c48.js";import{c as B}from"./ContentBlacklistView.f45bb203.js";const p=l()(a=>({initialization(){const e=d.channelMetadataEventMap.get(a);e&&this.beltline.pushEvent(e),this.beltline.feat.onHasLatestEvent(t=>{d.channelMetadataEventMap.set(a,t)})}}));function k(a){return r(`getChannelMetadataBeltlineByChannelId:${a}`,()=>{const e=n({describe:"getChannelMetadataBeltlineByChannelId"}).addFilter({ids:[a],kinds:[40]}).addFilter({kinds:[41],"#e":[a]}).addStaff(i()).addStaff(g()).addStaff(c()).addStaff(S()).addStaff(p(a)).addStaff(h());return e.feat.withEvent()||e.addStaff(f(a)).addReadUrl(),e},{useMemoryCache:!0,useLocalStorage:!1})}function T(a,e){return r(`etChannelMessageBeltline:${a}`,()=>{const t=n({describe:"getChannelMessageBeltline"}).addStaff(m([{kinds:[42],"#e":[a]}])).addStaff(C()).addStaff(u()).addStaff(M()).addStaff(E()).addStaff(B()).addStaffOfSortByCreateAt();return setTimeout(()=>{t.addExtends(t.createChild().addRelayUrls(e==null?void 0:e.urls).onAddRelayUrlsAfter(s=>{t.addRelayUrls(s)}).addFilter({ids:[a],kinds:[40]}).addFilter({kinds:[41],"#e":[a]}).addFilter({kinds:[42],"#e":[a],since:o()}).addStaff(f(a)).addReadUrl()),t.feat.firstLoad()},0),t},{useLocalStorage:!1})}export{T as a,k as g};
